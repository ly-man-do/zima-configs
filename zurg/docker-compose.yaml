name: zurg
services:
  zurg:
    image: ghcr.io/debridmediamanager/zurg-testing:v0.9.3-final
    container_name: zurg
    restart: unless-stopped
    healthcheck:
      test: curl -f localhost:9999/dav/version.txt || exit 1
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    ports:
      - target: 9999
        published: 9999
        protocol: tcp
    volumes:
      - type: bind
        source: /DATA/AppData/zurg/config.yml
        target: /app/config.yml
      - type: bind
        source: /DATA/AppData/zurg/data
        target: /app/data
    network_mode: bridge
    x-casaos:
      envs: []
      ports:
        - container: '9999'
          description:
            en_us: WebUI HTTP Port
          protocol: tcp
          web_ui: true
      volumes:
        - container: /app/config.yml
          description:
            en_us: Zurg configuration file
        - container: /app/data
          description:
            en_us: Zurg data directory

x-casaos:
  architectures:
    - amd64
    - arm64
    - arm
  main: zurg
  author: CasaOS Team
  category: Media
  description:
    en_us: |
      Zurg is a self-hosted Real-Debrid WebDAV server that enables you to mount your Real-Debrid torrent library into your filesystem. It's designed to work seamlessly with media servers like Plex and Jellyfin, and with rclone for file system mounting.
      
      **Key Features:**
      - High-performance WebDAV server for Real-Debrid
      - Works with Infuse, Plex, and Jellyfin
      - Flexible directory structure configuration
      - Instant library updates and changes
      - Automatic repair abilities to keep your library available
      - Comprehensive torrent health checking
      
      **Important Setup Notes:**
      1. You MUST edit the config.yml file to add your Real-Debrid API token
      2. Get your token from: https://real-debrid.com/apitoken
      3. Edit config file at: /DATA/AppData/zurg/config/config.yml
      4. When using Zurg on a server outside your home network, ensure "Use my Remote Traffic automatically when needed" is unchecked on your Real-Debrid Account page
      
      **First Time Setup:**
      After installation, you need to configure Zurg:
      1. Navigate to /DATA/AppData/zurg/config/
      2. Edit config.yml and replace "yourtoken" with your Real-Debrid API token
      3. Configure your directory structure as needed
      4. Restart the Zurg container
      
      **Web Interface:**
      Access at http://localhost:9999
      
      **For Plex/Jellyfin Integration:**
      Zurg is typically used with rclone to mount your Real-Debrid library. Install the rclone app separately and configure it to connect to Zurg's WebDAV server.
  developer: debridmediamanager
  icon: https://raw.githubusercontent.com/debridmediamanager/zurg-testing/main/.github/assets/zurg-icon.png
  screenshot_link:
    - https://raw.githubusercontent.com/debridmediamanager/zurg-testing/main/.github/assets/zurg-screenshot.png
  tagline:
    en_us: Real-Debrid WebDAV server for Plex/Jellyfin
  thumbnail: https://raw.githubusercontent.com/debridmediamanager/zurg-testing/main/.github/assets/zurg-icon.png
  title:
    en_us: Zurg
  index: /
  port_map: '9999'
  scheme: http
  store_app_id: zurg
  tips:
    before_install:
      en_us: |
        ## Important Configuration Required
        
        After installation, you MUST configure Zurg before it will work:
        
        1. **Get your Real-Debrid API Token:**
           - Visit: https://real-debrid.com/apitoken
           - Copy your API token
        
        2. **Edit the config file:**
           - Location: `/DATA/AppData/zurg/config/config.yml`
           - Replace `yourtoken` with your actual Real-Debrid API token
           - Customize directory structure if needed
        
        3. **Restart the container** after making changes
        
        4. **Network Setting:**
           - If using outside your home network, disable "Use my Remote Traffic automatically when needed" on your Real-Debrid account page
        
        For detailed configuration help, visit: https://github.com/debridmediamanager/zurg-testing/wiki
